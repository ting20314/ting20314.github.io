<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
    integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
    crossorigin=""/>
    <link rel="stylesheet" type="text/css" href="map.css">
    <link rel="stylesheet" href="Leaflet.PolylineMeasure.css">
    <link rel="stylesheet" href="https://ppete2.github.io/Leaflet.PolylineMeasure/Leaflet.PolylineMeasure.css" />
    <link rel="stylesheet" href="L.Control.Sidebar.css">
    <style>
.ppsize {    max-width: 80%;
    max-height: 80%;}
.leaflet-popup-content-wrapper{
    background-color: #000;
    color: white;
    border: 3px solid orange;
    border-radius: 5px;
    width : 350px;
    height: 350px
}
.row{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}
</style>
    <title>Mapping Project</title>
    <h1>1, 2, 3, 4 für alle</h1>
    <h3>MM</h3>
    <p>Insert description of the project<br>This website is about this</p>
    <select name="select station" id="select-station">
        <option value="48.14843,11.57549">Select one of the U-Bahn stations</option>
        <option value="-1">1 - ALTSTADT-LEHEL - </option>
        <option value="48.13724, 11.57563">Marienplatz</option>
        <option value="48.13938, 11.56585">Karlsplatz</option>
        <option value="48.13356, 11.56711">Sendlinger Tor</option>
        <option value="48.13988, 11.58683">Lehel</option>
        <option value="48.14274, 11.57754">Odeonsplatz</option>
        <option value="-1">2 - LUDWIGSVORSTADT-ISARVORSTADT - </option>
        <option value="48.14026, 11.56064">München Hauptbahnhof</option>
        <option value="48.13635, 11.55326">Theresienwiese</option>
        <option value="48.12958, 11.55845">Goetheplatz</option>
        <option value="48.12917, 11.57439">Fraunhoferstraße</option>
        <option value="48.12573, 11.55057">Poccistraße</option>
        <option value="-1">3 - MAXVORSTADT - </option>
        <option value="48.15003, 11.54571">Maillingerstraße</option>
        <option value="48.14507, 11.56337">Königsplatz</option>
        <option value="48.15113, 11.56418">Theresienstraße</option>
        <option value="48.15577, 11.56680">Josephsplatz</option>
        <option value="48.14965, 11.58081">Universität</option>
        <option value="48.14790, 11.55685">Stiglmaierplatz</option>
        <option value="-1">4 - SCHWABING-WEST - </option>
        <option value="48.16218, 11.56867">Hohenzollernplatz</option>
        <option value="48.16683, 11.57867">Bonner Platz</option>
        <option value="48.17121, 11.57288">Scheidplatz</option>
        <option value="48.17553, 11.56641">Petuelring</option>
    </select>



    <select name="select housing" id="select-housing">
        <option value="-1">Select one of the housing options</option>
        <option value="-1">1 - ALTSTADT-LEHEL - </option>
        <option value="48.13724, 11.57563">Marienplatz</option>
        <option value="48.13938, 11.56585">Karlsplatz</option>
        <option value="48.13356, 11.56711">Sendlinger Tor</option>
        <option value="48.13988, 11.58683">Lehel</option>
        <option value="48.14274, 11.57754">Odeonsplatz</option>
        <option value="-1">2 - LUDWIGSVORSTADT-ISARVORSTADT - </option>
        <option value="48.14026, 11.56064">München Hauptbahnhof</option>
        <option value="48.13635, 11.55326">Theresienwiese</option>
        <option value="48.12958, 11.55845">Goetheplatz</option>
        <option value="48.12917, 11.57439">Fraunhoferstraße</option>
        <option value="48.12573, 11.55057">Poccistraße</option>
        <option value="-1">3 - MAXVORSTADT - </option>
        <option value="48.15003, 11.54571">Maillingerstraße</option>
        <option value="48.14507, 11.56337">Königsplatz</option>
        <option value="48.15113, 11.56418">Theresienstraße</option>
        <option value="48.15577, 11.56680">Josephsplatz</option>
        <option value="48.14965, 11.58081">Universität</option>
        <option value="48.14790, 11.55685">Stiglmaierplatz</option>
        <option value="-1">4 - SCHWABING-WEST - </option>
        <option value="48.16218, 11.56867">Hohenzollernplatz</option>
        <option value="48.16683, 11.57867">Bonner Platz</option>
        <option value="48.17121, 11.57288">Scheidplatz</option>
        <option value="48.17553, 11.56641">Petuelring</option>
    </select>
</head>
<body>
    
    <!--Google Sheet-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js" integrity="sha512-SGWgwwRA8xZgEoKiex3UubkSkV1zSE1BS6O4pXcaxcNtUlQsOmOmhVnDwIvqGRfEmuz83tIGL13cXMZn6upPyg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
                    function addPoints(data) {
                        data = data.data;
                        let markerType = "marker";
                        for (let row = 0; row < data.length; row++)
                        {
                            let marker;
                            var icon_url = "https://drive.google.com/uc?export=view&id="+data[row].Image.substring(33,data[row].Image.length);
                            var AlertIcon = L.icon({
                                iconUrl: 'image/alert3.png',
                                iconSize:     [30, 30], // size of the icon
                                iconAnchor:   [0,0], // point of the icon which will correspond to marker's location
                                popupAnchor:  [0, 0] // point from which the popup should open relative to the iconAnchor
                            });
                            marker = L.marker([data[row].lat, data[row].lng],{icon: AlertIcon});
                            marker.addTo(map);
                            marker.bindPopup("<b>" + data[row].Type + '</b><br>' +data[row].Position +'</b><br>'+ data[row].Scale+"<img src="+ icon_url +" class=ppsize"+ ">" ,{className: "leaflet-popup-content-wrapper"});
                            function onClick(e) {
                               var popup = e.target.getPopup();
                               var content = popup.getContent();
                               console.log(content);
                            }
                            marker.on('click', onClick);
                            
                         
                    	}
                    }

                    function te(){
                        let pointsURL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTh7dQ0JPgZNoagkd77B4S-5xZRpPFHXjXOA5Z7JKNITb4YGw31Pqro_k8Rlo1Gy1D_5YZy7TcvT_li/pub?gid=1170715324&single=true&output=csv";
                        
                        Papa.parse(pointsURL, {download: true,header: true,complete: addPoints,});
                        
                        }


                </script>


    <div class="container">
        <div class="row">
            <div class="map" id="map">
                <div id="side-bar" class="col-md-12">
                    <div id="box1">
                        <img src="image/marienp.jpg">
                        <h2>Station: Marienplatz</h2>
                        <p2>text number 1</p2>         
                    </div>
                    <br>
                    <div id="box2">
                        <img src="image/work.jpg">
                        <h2>BARRIER</h2>
                        <p2>Construction work on the sidewalk</p2>         
                    </div>
                </div>
            </div>
        </div>
        
    </div>
   <script>te();</script>
<!--     <script>boxANm();</script>> -->


    <!-- <div id="map"></div> -->
</body>
    <!-- Make sure you put this AFTER Leaflet's CSS -->
 <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
 integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
 crossorigin=""></script>
 <script src="L.Control.Sidebar.js"></script>
 <script src="Leaflet.PolylineMeasure.js"></script>
<script src="https://ppete2.github.io/Leaflet.PolylineMeasure/Leaflet.PolylineMeasure.js"></script>
<script src="map.js"></script>




</html>
